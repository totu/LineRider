
; PICBASIC PRO(TM) Compiler 2.50a, (c) 1998, 2007 microEngineering Labs, Inc. All Rights Reserved.  
MPASMWIN_USED			EQU	1

	INCLUDE	"C:\PBP\16F876.INC"


; Define statements.
; C:\PBP\16F876.BAS        	00018	DEFINE  CODE_SIZE 8
#define		CODE_SIZE		 8
; C:\PBP\MEID‰NOMAKANSIO\LEDINVILAUTUS.BAS	00051	DEFINE	OSC	10
#define		OSC			10
; C:\PBP\MEID‰NOMAKANSIO\LEDINVILAUTUS.BAS	00053	DEFINE	DEBUG_REG	PORTB
#define		DEBUG_REG			PORTB
; C:\PBP\MEID‰NOMAKANSIO\LEDINVILAUTUS.BAS	00054	DEFINE	DEBUG_BIT	5
#define		DEBUG_BIT			5
; C:\PBP\MEID‰NOMAKANSIO\LEDINVILAUTUS.BAS	00055	DEFINE	DEBUG_BAUD	19200
#define		DEBUG_BAUD			19200
; C:\PBP\MEID‰NOMAKANSIO\LEDINVILAUTUS.BAS	00056	DEFINE	DEBUG_MODE	1
#define		DEBUG_MODE			1

RAM_START       		EQU	00020h
RAM_END         		EQU	001EFh
RAM_BANKS       		EQU	00004h
BANK0_START     		EQU	00020h
BANK0_END       		EQU	0007Fh
BANK1_START     		EQU	000A0h
BANK1_END       		EQU	000EFh
BANK2_START     		EQU	00110h
BANK2_END       		EQU	0016Fh
BANK3_START     		EQU	00190h
BANK3_END       		EQU	001EFh
EEPROM_START    		EQU	02100h
EEPROM_END      		EQU	021FFh

; C:\PBP\PBPPIC14.RAM      	00012	R0      VAR     WORD BANK0 SYSTEM       ' System Register
R0              		EQU	RAM_START + 000h
; C:\PBP\PBPPIC14.RAM      	00013	R1      VAR     WORD BANK0 SYSTEM       ' System Register
R1              		EQU	RAM_START + 002h
; C:\PBP\PBPPIC14.RAM      	00014	R2      VAR     WORD BANK0 SYSTEM       ' System Register
R2              		EQU	RAM_START + 004h
; C:\PBP\PBPPIC14.RAM      	00015	R3      VAR     WORD BANK0 SYSTEM       ' System Register
R3              		EQU	RAM_START + 006h
; C:\PBP\PBPPIC14.RAM      	00016	R4      VAR     WORD BANK0 SYSTEM       ' System Register
R4              		EQU	RAM_START + 008h
; C:\PBP\PBPPIC14.RAM      	00017	R5      VAR     WORD BANK0 SYSTEM       ' System Register
R5              		EQU	RAM_START + 00Ah
; C:\PBP\PBPPIC14.RAM      	00018	R6      VAR     WORD BANK0 SYSTEM       ' System Register
R6              		EQU	RAM_START + 00Ch
; C:\PBP\PBPPIC14.RAM      	00019	R7      VAR     WORD BANK0 SYSTEM       ' System Register
R7              		EQU	RAM_START + 00Eh
; C:\PBP\PBPPIC14.RAM      	00020	R8      VAR     WORD BANK0 SYSTEM       ' System Register
R8              		EQU	RAM_START + 010h
; C:\PBP\PBPPIC14.RAM      	00026	FLAGS   VAR     BYTE BANK0 SYSTEM       ' Static flags
FLAGS           		EQU	RAM_START + 012h
; C:\PBP\PBPPIC14.RAM      	00025	GOP     VAR     BYTE BANK0 SYSTEM       ' Gen Op Parameter
GOP             		EQU	RAM_START + 013h
; C:\PBP\PBPPIC14.RAM      	00022	RM1     VAR     BYTE BANK0 SYSTEM       ' Pin 1 Mask
RM1             		EQU	RAM_START + 014h
; C:\PBP\PBPPIC14.RAM      	00024	RM2     VAR     BYTE BANK0 SYSTEM       ' Pin 2 Mask
RM2             		EQU	RAM_START + 015h
; C:\PBP\PBPPIC14.RAM      	00021	RR1     VAR     BYTE BANK0 SYSTEM       ' Pin 1 Register
RR1             		EQU	RAM_START + 016h
; C:\PBP\PBPPIC14.RAM      	00023	RR2     VAR     BYTE BANK0 SYSTEM       ' Pin 2 Register
RR2             		EQU	RAM_START + 017h
; C:\PBP\MEID‰NOMAKANSIO\LEDINVILAUTUS.BAS	00087	oeteenpain var word
_oeteenpain      		EQU	RAM_START + 018h
; C:\PBP\MEID‰NOMAKANSIO\LEDINVILAUTUS.BAS	00089	okorjaus var word
_okorjaus        		EQU	RAM_START + 01Ah
; C:\PBP\MEID‰NOMAKANSIO\LEDINVILAUTUS.BAS	00085	pysahdys var word
_pysahdys        		EQU	RAM_START + 01Ch
; C:\PBP\MEID‰NOMAKANSIO\LEDINVILAUTUS.BAS	00083	spino	var	word
_spino           		EQU	RAM_START + 01Eh
; C:\PBP\MEID‰NOMAKANSIO\LEDINVILAUTUS.BAS	00082	spinv	VAR	WORD
_spinv           		EQU	RAM_START + 020h
; C:\PBP\MEID‰NOMAKANSIO\LEDINVILAUTUS.BAS	00086	veteenpain var word
_veteenpain      		EQU	RAM_START + 022h
; C:\PBP\MEID‰NOMAKANSIO\LEDINVILAUTUS.BAS	00088	vkorjaus var word
_vkorjaus        		EQU	RAM_START + 024h
; C:\PBP\MEID‰NOMAKANSIO\LEDINVILAUTUS.BAS	00084	X	VAR BYTE
_X               		EQU	RAM_START + 026h
; C:\PBP\16F876.BAS        	00022	PORTL   VAR     PORTB
_PORTL           		EQU	 PORTB
; C:\PBP\16F876.BAS        	00023	PORTH   VAR     PORTC
_PORTH           		EQU	 PORTC
; C:\PBP\16F876.BAS        	00024	TRISL   VAR     TRISB
_TRISL           		EQU	 TRISB
; C:\PBP\16F876.BAS        	00025	TRISH   VAR     TRISC
_TRISH           		EQU	 TRISC
#define _vasen           	_PORTB??1
#define _oikea           	_PORTB??2
#define _ir0             	_PORTC??0
#define _ir1             	_PORTC??1
#define _ir2             	_PORTC??2
#define _ir3             	_PORTC??3
#define _ir4             	_PORTC??7
#define _ir5             	_PORTC??6
#define _ir6             	_PORTC??5
#define _ir7             	_PORTC??4
#define _PORTB??1        	 PORTB, 001h
#define _PORTB??2        	 PORTB, 002h
#define _PORTC??0        	 PORTC, 000h
#define _PORTC??1        	 PORTC, 001h
#define _PORTC??2        	 PORTC, 002h
#define _PORTC??3        	 PORTC, 003h
#define _PORTC??7        	 PORTC, 007h
#define _PORTC??6        	 PORTC, 006h
#define _PORTC??5        	 PORTC, 005h
#define _PORTC??4        	 PORTC, 004h

; Constants.
_T2400           		EQU	00000h
_T1200           		EQU	00001h
_T9600           		EQU	00002h
_T300            		EQU	00003h
_N2400           		EQU	00004h
_N1200           		EQU	00005h
_N9600           		EQU	00006h
_N300            		EQU	00007h
_OT2400          		EQU	00008h
_OT1200          		EQU	00009h
_OT9600          		EQU	0000Ah
_OT300           		EQU	0000Bh
_ON2400          		EQU	0000Ch
_ON1200          		EQU	0000Dh
_ON9600          		EQU	0000Eh
_ON300           		EQU	0000Fh
_MSBPRE          		EQU	00000h
_LSBPRE          		EQU	00001h
_MSBPOST         		EQU	00002h
_LSBPOST         		EQU	00003h
_LSBFIRST        		EQU	00000h
_MSBFIRST        		EQU	00001h
_CLS             		EQU	00000h
_HOME            		EQU	00001h
_BELL            		EQU	00007h
_BKSP            		EQU	00008h
_TAB             		EQU	00009h
_CR              		EQU	0000Dh
_UnitOn          		EQU	00012h
_UnitOff         		EQU	0001Ah
_UnitsOff        		EQU	0001Ch
_LightsOn        		EQU	00014h
_LightsOff       		EQU	00010h
_Dim             		EQU	0001Eh
_Bright          		EQU	00016h
	INCLUDE	"LEDINVILAUTUS.MAC"
	INCLUDE	"C:\PBP\PBPPIC14.LIB"


; C:\PBP\16F876.BAS        	00012	BANK0   $0020, $007F
; C:\PBP\16F876.BAS        	00013	BANK1   $00A0, $00EF
; C:\PBP\16F876.BAS        	00014	BANK2   $0110, $016F
; C:\PBP\16F876.BAS        	00015	BANK3   $0190, $01EF
; C:\PBP\16F876.BAS        	00016	EEPROM  $2100, $21FF
; C:\PBP\16F876.BAS        	00017	LIBRARY "PBPPIC14"
; C:\PBP\16F876.BAS        	00018	DEFINE  CODE_SIZE 8

; C:\PBP\16F876.BAS        	00020	        include "PIC14EXT.BAS"

; C:\PBP\16F876.BAS        	00027	        include "PBPPIC14.RAM"

; C:\PBP\MEID‰NOMAKANSIO\LEDINVILAUTUS.BAS	00047	INCLUDE "modedefs.bas"
; C:\PBP\MODEDEFS.BAS      	00014	Symbol T2400  = 0       ' Driven True
; C:\PBP\MODEDEFS.BAS      	00015	Symbol T1200  = 1       ' Driven True
; C:\PBP\MODEDEFS.BAS      	00016	Symbol T9600  = 2       ' Driven True
; C:\PBP\MODEDEFS.BAS      	00017	Symbol T300   = 3       ' Driven True
; C:\PBP\MODEDEFS.BAS      	00019	Symbol N2400  = 4       ' Driven Inverted
; C:\PBP\MODEDEFS.BAS      	00020	Symbol N1200  = 5       ' Driven Inverted
; C:\PBP\MODEDEFS.BAS      	00021	Symbol N9600  = 6       ' Driven Inverted
; C:\PBP\MODEDEFS.BAS      	00022	Symbol N300   = 7       ' Driven Inverted
; C:\PBP\MODEDEFS.BAS      	00024	Symbol OT2400 = 8       ' Open True
; C:\PBP\MODEDEFS.BAS      	00025	Symbol OT1200 = 9       ' Open True
; C:\PBP\MODEDEFS.BAS      	00026	Symbol OT9600 = 10      ' Open True
; C:\PBP\MODEDEFS.BAS      	00027	Symbol OT300  = 11      ' Open True
; C:\PBP\MODEDEFS.BAS      	00029	Symbol ON2400 = 12      ' Open Inverted
; C:\PBP\MODEDEFS.BAS      	00030	Symbol ON1200 = 13      ' Open Inverted
; C:\PBP\MODEDEFS.BAS      	00031	Symbol ON9600 = 14      ' Open Inverted
; C:\PBP\MODEDEFS.BAS      	00032	Symbol ON300  = 15      ' Open Inverted
; C:\PBP\MODEDEFS.BAS      	00036	Symbol MSBPRE = 0       ' MSB first, sample before clock
; C:\PBP\MODEDEFS.BAS      	00037	Symbol LSBPRE = 1       ' LSB first, sample before clock
; C:\PBP\MODEDEFS.BAS      	00038	Symbol MSBPOST = 2      ' MSB first, sample after clock
; C:\PBP\MODEDEFS.BAS      	00039	Symbol LSBPOST = 3      ' LSB first, sample after clock
; C:\PBP\MODEDEFS.BAS      	00042	Symbol LSBFIRST = 0     ' LSB first
; C:\PBP\MODEDEFS.BAS      	00043	Symbol MSBFIRST = 1     ' MSB first
; C:\PBP\MODEDEFS.BAS      	00047	Symbol CLS = 0
; C:\PBP\MODEDEFS.BAS      	00048	Symbol HOME = 1
; C:\PBP\MODEDEFS.BAS      	00049	Symbol BELL = 7
; C:\PBP\MODEDEFS.BAS      	00050	Symbol BKSP = 8
; C:\PBP\MODEDEFS.BAS      	00051	Symbol TAB = 9
; C:\PBP\MODEDEFS.BAS      	00052	Symbol CR = 13
; C:\PBP\MODEDEFS.BAS      	00056	Symbol UnitOn = %10010
; C:\PBP\MODEDEFS.BAS      	00057	Symbol UnitOff = %11010
; C:\PBP\MODEDEFS.BAS      	00058	Symbol UnitsOff = %11100
; C:\PBP\MODEDEFS.BAS      	00059	Symbol LightsOn = %10100
; C:\PBP\MODEDEFS.BAS      	00060	Symbol LightsOff = %10000
; C:\PBP\MODEDEFS.BAS      	00061	Symbol Dim = %11110
; C:\PBP\MODEDEFS.BAS      	00062	Symbol Bright = %10110
; C:\PBP\MEID‰NOMAKANSIO\LEDINVILAUTUS.BAS	00051	DEFINE	OSC	10
; C:\PBP\MEID‰NOMAKANSIO\LEDINVILAUTUS.BAS	00053	DEFINE	DEBUG_REG	PORTB
; C:\PBP\MEID‰NOMAKANSIO\LEDINVILAUTUS.BAS	00054	DEFINE	DEBUG_BIT	5
; C:\PBP\MEID‰NOMAKANSIO\LEDINVILAUTUS.BAS	00055	DEFINE	DEBUG_BAUD	19200
; C:\PBP\MEID‰NOMAKANSIO\LEDINVILAUTUS.BAS	00056	DEFINE	DEBUG_MODE	1

; C:\PBP\MEID‰NOMAKANSIO\LEDINVILAUTUS.BAS	00100	GOTO Initl
	GOTO?L	_Initl

; C:\PBP\MEID‰NOMAKANSIO\LEDINVILAUTUS.BAS	00105	Initl:

	LABEL?L	_Initl	

; C:\PBP\MEID‰NOMAKANSIO\LEDINVILAUTUS.BAS	00109		TRISA = %11111111
	MOVE?CB	0FFh, TRISA

; C:\PBP\MEID‰NOMAKANSIO\LEDINVILAUTUS.BAS	00110		TRISC = %11111111
	MOVE?CB	0FFh, TRISC

; C:\PBP\MEID‰NOMAKANSIO\LEDINVILAUTUS.BAS	00111		TRISB = %11011001
	MOVE?CB	0D9h, TRISB

; C:\PBP\MEID‰NOMAKANSIO\LEDINVILAUTUS.BAS	00112		ADCON1 = %10001110		'Right Just, 1anal 0
	MOVE?CB	08Eh, ADCON1

; C:\PBP\MEID‰NOMAKANSIO\LEDINVILAUTUS.BAS	00130	LOW vasen
	LOW?T	_vasen

; C:\PBP\MEID‰NOMAKANSIO\LEDINVILAUTUS.BAS	00131	LOW oikea
	LOW?T	_oikea

; C:\PBP\MEID‰NOMAKANSIO\LEDINVILAUTUS.BAS	00132	pysahdys = 376
	MOVE?CW	00178h, _pysahdys

; C:\PBP\MEID‰NOMAKANSIO\LEDINVILAUTUS.BAS	00133	oeteenpain = 500
	MOVE?CW	001F4h, _oeteenpain

; C:\PBP\MEID‰NOMAKANSIO\LEDINVILAUTUS.BAS	00134	veteenpain = 250
	MOVE?CW	0FAh, _veteenpain

; C:\PBP\MEID‰NOMAKANSIO\LEDINVILAUTUS.BAS	00136	vkorjaus = 368
	MOVE?CW	00170h, _vkorjaus

; C:\PBP\MEID‰NOMAKANSIO\LEDINVILAUTUS.BAS	00137	okorjaus = 383
	MOVE?CW	0017Fh, _okorjaus

; C:\PBP\MEID‰NOMAKANSIO\LEDINVILAUTUS.BAS	00139	spinv = pysahdys
	MOVE?WW	_pysahdys, _spinv

; C:\PBP\MEID‰NOMAKANSIO\LEDINVILAUTUS.BAS	00140	spino = pysahdys
	MOVE?WW	_pysahdys, _spino

; C:\PBP\MEID‰NOMAKANSIO\LEDINVILAUTUS.BAS	00141	Start:

	LABEL?L	_Start	

; C:\PBP\MEID‰NOMAKANSIO\LEDINVILAUTUS.BAS	00143	select case PortC

; C:\PBP\MEID‰NOMAKANSIO\LEDINVILAUTUS.BAS	00145		case %11111111 
	CMPNE?BCL	PORTC, 0FFh, L00003

; C:\PBP\MEID‰NOMAKANSIO\LEDINVILAUTUS.BAS	00146			spinv = pysahdys-1
	SUB?WCW	_pysahdys, 001h, _spinv

; C:\PBP\MEID‰NOMAKANSIO\LEDINVILAUTUS.BAS	00147			spino = pysahdys
	MOVE?WW	_pysahdys, _spino

; C:\PBP\MEID‰NOMAKANSIO\LEDINVILAUTUS.BAS	00150		case %01110111, %11110111, %01111111, %00110111, %01110011, %00111111, %11110011,  %00110011
	GOTO?L	L00002
	LABEL?L	L00003	
	CMPEQ?BCL	PORTC, 033h, L00004
	CMPEQ?BCL	PORTC, 0F3h, L00005
	CMPEQ?BCL	PORTC, 03Fh, L00006
	CMPEQ?BCL	PORTC, 073h, L00007
	CMPEQ?BCL	PORTC, 037h, L00008
	CMPEQ?BCL	PORTC, 07Fh, L00009
	CMPEQ?BCL	PORTC, 0F7h, L00010
	CMPNE?BCL	PORTC, 077h, L00011

	LABEL?L	L00004	

	LABEL?L	L00005	

	LABEL?L	L00006	

	LABEL?L	L00007	

	LABEL?L	L00008	

	LABEL?L	L00009	

	LABEL?L	L00010	

; C:\PBP\MEID‰NOMAKANSIO\LEDINVILAUTUS.BAS	00151			spinv = veteenpain
	MOVE?WW	_veteenpain, _spinv

; C:\PBP\MEID‰NOMAKANSIO\LEDINVILAUTUS.BAS	00152			spino = oeteenpain
	MOVE?WW	_oeteenpain, _spino

; C:\PBP\MEID‰NOMAKANSIO\LEDINVILAUTUS.BAS	00154		case %10001111, %10011111, %11001111, %10111111, %11011111, %11101111
	GOTO?L	L00002
	LABEL?L	L00011	
	CMPEQ?BCL	PORTC, 0EFh, L00012
	CMPEQ?BCL	PORTC, 0DFh, L00013
	CMPEQ?BCL	PORTC, 0BFh, L00014
	CMPEQ?BCL	PORTC, 0CFh, L00015
	CMPEQ?BCL	PORTC, 09Fh, L00016
	CMPNE?BCL	PORTC, 08Fh, L00017

	LABEL?L	L00012	

	LABEL?L	L00013	

	LABEL?L	L00014	

	LABEL?L	L00015	

	LABEL?L	L00016	

; C:\PBP\MEID‰NOMAKANSIO\LEDINVILAUTUS.BAS	00155			spinv = veteenpain
	MOVE?WW	_veteenpain, _spinv

; C:\PBP\MEID‰NOMAKANSIO\LEDINVILAUTUS.BAS	00156			spino = okorjaus
	MOVE?WW	_okorjaus, _spino

; C:\PBP\MEID‰NOMAKANSIO\LEDINVILAUTUS.BAS	00158		case %11111000, %11111100, %11111001, %11111011, %11111101, %11111110
	GOTO?L	L00002
	LABEL?L	L00017	
	CMPEQ?BCL	PORTC, 0FEh, L00018
	CMPEQ?BCL	PORTC, 0FDh, L00019
	CMPEQ?BCL	PORTC, 0FBh, L00020
	CMPEQ?BCL	PORTC, 0F9h, L00021
	CMPEQ?BCL	PORTC, 0FCh, L00022
	CMPNE?BCL	PORTC, 0F8h, L00023

	LABEL?L	L00018	

	LABEL?L	L00019	

	LABEL?L	L00020	

	LABEL?L	L00021	

	LABEL?L	L00022	

; C:\PBP\MEID‰NOMAKANSIO\LEDINVILAUTUS.BAS	00159			spinv = vkorjaus
	MOVE?WW	_vkorjaus, _spinv

; C:\PBP\MEID‰NOMAKANSIO\LEDINVILAUTUS.BAS	00160			spino = oeteenpain
	MOVE?WW	_oeteenpain, _spino

; C:\PBP\MEID‰NOMAKANSIO\LEDINVILAUTUS.BAS	00161	end select
	LABEL?L	L00023	
	LABEL?L	L00002	

; C:\PBP\MEID‰NOMAKANSIO\LEDINVILAUTUS.BAS	00164		PULSOUT oikea, spino
	PULSOUT?TW	_oikea, _spino

; C:\PBP\MEID‰NOMAKANSIO\LEDINVILAUTUS.BAS	00165		PULSOUT vasen, spinv
	PULSOUT?TW	_vasen, _spinv

; C:\PBP\MEID‰NOMAKANSIO\LEDINVILAUTUS.BAS	00169		PAUSE 20
	PAUSE?C	014h

; C:\PBP\MEID‰NOMAKANSIO\LEDINVILAUTUS.BAS	00171		GOTO Start	
	GOTO?L	_Start

; C:\PBP\MEID‰NOMAKANSIO\LEDINVILAUTUS.BAS	00172	END
	END?	

	END
